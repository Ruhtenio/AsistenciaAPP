{"version":3,"file":"src_app_pages_eliminar-usuario_eliminar-usuario_module_ts.js","mappings":"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","sources":["./src/app/pages/eliminar-usuario/eliminar-usuario-routing.module.ts","./src/app/pages/eliminar-usuario/eliminar-usuario.module.ts","./src/app/pages/eliminar-usuario/eliminar-usuario.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EliminarUsuarioPage } from './eliminar-usuario.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EliminarUsuarioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EliminarUsuarioPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EliminarUsuarioPageRoutingModule } from './eliminar-usuario-routing.module';\n\nimport { EliminarUsuarioPage } from './eliminar-usuario.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EliminarUsuarioPageRoutingModule\n  ],\n  declarations: [EliminarUsuarioPage]\n})\nexport class EliminarUsuarioPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { DBSQLiteValues } from '@capacitor-community/sqlite';\nimport { ViewWillEnter } from '@ionic/angular';\nimport { log, showAlertError, showAlertYesNoDUOC } from 'src/app/model/Message';\nimport { MessageEnum } from 'src/app/model/MessageEnum';\nimport { Usuario } from 'src/app/model/Usuario';\nimport { DatabaseService } from 'src/app/services/database.service';\n\n@Component({\n  selector: 'app-eliminar-usuario',\n  templateUrl: './eliminar-usuario.page.html',\n  styleUrls: ['./eliminar-usuario.page.scss'],\n})\nexport class EliminarUsuarioPage implements ViewWillEnter {\n  usuarios = new Array<Usuario>;\n  cantidad = 0;\n\n  constructor(private router: Router, private db: DatabaseService) {\n  }\n\n  ionViewWillEnter(): void {\n    this.getUsuarios();\n  }\n\n  getUserId(index, item) {\n    return item.correo;\n  }\n\n   async getUsuarios() {\n    try {\n      const rs: DBSQLiteValues = await this.db.readUsers();\n      log('DeleteUserPage.getUsuarios', `Cantidad de usuarios: ${rs.values.length}`);\n      this.cantidad = rs.values.length;\n      this.usuarios = new Array<Usuario>();\n      rs.values.forEach((value, index) => {\n        let usu: Usuario = new Usuario();\n        usu.setUser(\n          value.correo,\n          value.password,\n          value.nombre,\n          value.preguntaSecreta,\n          value.respuestaSecreta,\n          '',\n          false);\n        this.usuarios.push(usu);\n      });\n    } catch(err) {\n      showAlertError('DeleteUserPage.getUsuarios', err);\n    }\n  }\n\n  async eliminarUsuario($event){\n    const correo = $event.correo;\n    const usuToDelete: Usuario = this.usuarios.find((usu) => usu.correo === correo);\n    const resp = await showAlertYesNoDUOC(`¿Está seguro que desea eliminar el usuario ${usuToDelete.nombre}?`);\n    if (resp === MessageEnum.YES) {\n      await this.db.deleteUser(correo);\n      this.getUsuarios()\n    }\n  }\n\n  volver() {\n    this.router.navigate(['login']);\n  }\n\n}\n"],"names":["Component","Router","log","showAlertError","showAlertYesNoDUOC","MessageEnum","Usuario","DatabaseService","EliminarUsuarioPage","constructor","router","db","Array","ionViewWillEnter","getUsuarios","getUserId","index","item","correo","rs","readUsers","values","length","cantidad","usuarios","forEach","value","usu","setUser","password","nombre","preguntaSecreta","respuestaSecreta","push","err","eliminarUsuario","$event","usuToDelete","find","resp","YES","deleteUser","volver","navigate","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}