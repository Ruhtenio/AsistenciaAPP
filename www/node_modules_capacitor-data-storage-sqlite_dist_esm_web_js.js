"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_capacitor-data-storage-sqlite_dist_esm_web_js"],{

/***/ 1154:
/*!*******************************************************************************!*\
  !*** ./node_modules/capacitor-data-storage-sqlite/dist/esm/web-utils/Data.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Data": () => (/* binding */ Data)
/* harmony export */ });
class Data {}

/***/ }),

/***/ 8637:
/*!************************************************************************************************!*\
  !*** ./node_modules/capacitor-data-storage-sqlite/dist/esm/web-utils/StorageDatabaseHelper.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StorageDatabaseHelper": () => (/* binding */ StorageDatabaseHelper)
/* harmony export */ });
/* harmony import */ var _home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! localforage */ 6477);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Data */ 1154);

//import LocalForage from 'jeep-localforage';

 //const DATABASE: string = "storageIDB";
//const STORAGESTORE: string = "storage_store";

class StorageDatabaseHelper {
  constructor(dbName, tableName) {
    this._db = null;
    const res = this.openStore(dbName, tableName);

    if (res) {
      this._dbName = dbName;
      this._tableName = tableName;
    } else {
      this._dbName = '';
      this._tableName = '';
      throw new Error('openStore return false');
    }
  }

  openStore(dbName, tableName) {
    let ret = false;
    const config = this.setConfig(dbName, tableName);
    this._db = localforage__WEBPACK_IMPORTED_MODULE_1___default().createInstance(config);

    if (this._db != null) {
      this._dbName = dbName;
      ret = true;
    }

    return ret;
  }

  setConfig(dbName, tableName) {
    const config = {
      name: dbName,
      storeName: tableName,
      driver: [(localforage__WEBPACK_IMPORTED_MODULE_1___default().INDEXEDDB), (localforage__WEBPACK_IMPORTED_MODULE_1___default().WEBSQL)],
      version: 1
    };
    return config;
  }

  setTable(tableName) {
    var _this = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const res = _this.openStore(_this._dbName, tableName);

      if (res) {
        return Promise.resolve();
      } else {
        return Promise.reject(new Error('openStore return false'));
      }
    })();
  }

  isTable(table) {
    var _this2 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this2._db == null) {
        return Promise.reject(`isTable: this.db is null`);
      }

      try {
        let ret = false;
        const tables = yield _this2.tables();
        if (tables.includes(table)) ret = true;
        return Promise.resolve(ret);
      } catch (err) {
        return Promise.reject(err);
      }
    })();
  }

  tables() {
    var _this3 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return new Promise((resolve, reject) => {
        // Let us open our database
        const DBOpenRequest = window.indexedDB.open(_this3._dbName); // these two event handlers act on the database being opened successfully, or not

        DBOpenRequest.onerror = () => {
          return reject(`Error loading database ${_this3._dbName}`);
        };

        DBOpenRequest.onsuccess = () => {
          let result = [];
          const db = DBOpenRequest.result;
          const retList = db.objectStoreNames;
          const values = Object.values(retList);

          for (const val of values) {
            if (val.substring(0, 12) != 'local-forage') {
              result = [...result, val];
            }
          }

          return resolve(result);
        };
      });
    })();
  }

  set(data) {
    var _this4 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        yield _this4._db.setItem(data.name, data.value);
        return Promise.resolve();
      } catch (err) {
        return Promise.reject(err);
      }
    })();
  }

  get(name) {
    var _this5 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const value = yield _this5._db.getItem(name);
        const data = new _Data__WEBPACK_IMPORTED_MODULE_2__.Data();
        data.name = name;
        data.value = value;
        return Promise.resolve(data);
      } catch (err) {
        return Promise.reject(err);
      }
    })();
  }

  remove(name) {
    var _this6 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this6._db.removeItem(name).then(() => {
        return Promise.resolve();
      }).catch(error => {
        return Promise.reject(error);
      });
    })();
  }

  clear() {
    var _this7 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this7._db.clear().then(() => {
        return Promise.resolve();
      }).catch(error => {
        return Promise.reject(error);
      });
    })();
  }

  keys() {
    var _this8 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this8._db.keys().then(keys => {
        return Promise.resolve(keys);
      }).catch(error => {
        return Promise.reject(error);
      });
    })();
  }

  values() {
    var _this9 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const values = [];
      return _this9._db.iterate(value => {
        values.push(value);
      }).then(() => {
        return Promise.resolve(values);
      }).catch(error => {
        return Promise.reject(error);
      });
    })();
  }

  keysvalues() {
    var _this10 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const keysvalues = [];
      return _this10._db.iterate((value, key) => {
        const data = new _Data__WEBPACK_IMPORTED_MODULE_2__.Data();
        data.name = key;
        data.value = value;
        keysvalues.push(data);
      }).then(() => {
        return Promise.resolve(keysvalues);
      }).catch(error => {
        return Promise.reject(error);
      });
    })();
  }

  iskey(name) {
    var _this11 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this11.get(name).then(data => {
        if (data.value != null) {
          return Promise.resolve(true);
        } else {
          return Promise.resolve(false);
        }
      }).catch(error => {
        return Promise.reject(error);
      });
    })();
  }

  importJson(values) {
    var _this12 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let changes = 0;

      for (const val of values) {
        try {
          const data = new _Data__WEBPACK_IMPORTED_MODULE_2__.Data();
          data.name = val.key;
          data.value = val.value;
          yield _this12.set(data);
          changes += 1;
        } catch (err) {
          return Promise.reject(err);
        }
      }

      return Promise.resolve(changes);
    })();
  }

  exportJson() {
    var _this13 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const retJson = {};
      const prevTableName = _this13._tableName;

      try {
        retJson.database = _this13._dbName.slice(0, -3);
        retJson.encrypted = false;
        retJson.tables = []; // get the table list

        const tables = yield _this13.tables();

        for (const table of tables) {
          _this13._tableName = table;
          const retTable = {};
          retTable.name = table;
          retTable.values = [];

          const res = _this13.openStore(_this13._dbName, _this13._tableName);

          if (res) {
            const dataTable = yield _this13.keysvalues();

            for (const tdata of dataTable) {
              const retData = {};

              if (tdata.name != null) {
                retData.key = tdata.name;
                retData.value = tdata.value;
                retTable.values = [...retTable.values, retData];
              } else {
                return Promise.reject('Data.name is undefined');
              }
            }

            retJson.tables = [...retJson.tables, retTable];
          } else {
            const msg = `Could not open ${_this13._dbName} ${_this13._tableName} `;
            _this13._tableName = prevTableName;
            return Promise.reject(msg);
          }
        }

        _this13._tableName = prevTableName;

        const res = _this13.openStore(_this13._dbName, _this13._tableName);

        if (res) {
          return Promise.resolve(retJson);
        } else {
          const msg = `Could not open ${_this13._dbName} ${_this13._tableName} `;
          return Promise.reject(msg);
        }
      } catch (err) {
        _this13._tableName = prevTableName;
        return Promise.reject(err);
      }
    })();
  }

}

/***/ }),

/***/ 9555:
/*!*************************************************************************************!*\
  !*** ./node_modules/capacitor-data-storage-sqlite/dist/esm/web-utils/json-utils.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isJsonStore": () => (/* binding */ isJsonStore),
/* harmony export */   "isTable": () => (/* binding */ isTable),
/* harmony export */   "isValue": () => (/* binding */ isValue)
/* harmony export */ });
/**
 * IsJsonSQLite
 * @param obj
 */
const isJsonStore = obj => {
  const keyFirstLevel = ['database', 'encrypted', 'tables'];
  if (obj == null || Object.keys(obj).length === 0 && obj.constructor === Object) return false;

  for (const key of Object.keys(obj)) {
    if (keyFirstLevel.indexOf(key) === -1) return false;
    if (key === 'database' && typeof obj[key] != 'string') return false;
    if (key === 'encrypted' && typeof obj[key] != 'boolean') return false;
    if (key === 'tables' && typeof obj[key] != 'object') return false;

    if (key === 'tables') {
      for (const oKey of obj[key]) {
        const retTable = isTable(oKey);
        if (!retTable) return false;
      }
    }
  }

  return true;
};
/**
 * IsTable
 * @param obj
 */

const isTable = obj => {
  const keyTableLevel = ['name', 'values'];

  if (obj == null || Object.keys(obj).length === 0 && obj.constructor === Object) {
    return false;
  }

  for (const key of Object.keys(obj)) {
    if (keyTableLevel.indexOf(key) === -1) return false;
    if (key === 'name' && typeof obj[key] != 'string') return false;
    if (key === 'values' && typeof obj[key] != 'object') return false;

    if (key === 'values') {
      for (const oKey of obj[key]) {
        const retValue = isValue(oKey);
        if (!retValue) return false;
      }
    }
  }

  return true;
};
/**
 * IsValue
 * @param obj
 */

const isValue = obj => {
  const keyTableLevel = ['key', 'value'];

  if (obj == null || Object.keys(obj).length === 0 && obj.constructor === Object) {
    return false;
  }

  for (const key of Object.keys(obj)) {
    if (keyTableLevel.indexOf(key) === -1) return false;
    if (key === 'key' && typeof obj[key] != 'string') return false;
    if (key === 'value' && typeof obj[key] != 'string') return false;
  }

  return true;
};

/***/ }),

/***/ 8137:
/*!********************************************************************!*\
  !*** ./node_modules/capacitor-data-storage-sqlite/dist/esm/web.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CapacitorDataStorageSqliteWeb": () => (/* binding */ CapacitorDataStorageSqliteWeb)
/* harmony export */ });
/* harmony import */ var _home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @capacitor/core */ 5099);
/* harmony import */ var _web_utils_Data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./web-utils/Data */ 1154);
/* harmony import */ var _web_utils_StorageDatabaseHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./web-utils/StorageDatabaseHelper */ 8637);
/* harmony import */ var _web_utils_json_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./web-utils/json-utils */ 9555);





class CapacitorDataStorageSqliteWeb extends _capacitor_core__WEBPACK_IMPORTED_MODULE_1__.WebPlugin {
  echo(options) {
    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const ret = {};
      ret.value = options.value ? options.value : '';
      return ret;
    })();
  }

  openStore(options) {
    var _this = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const dbName = options.database ? `${options.database}IDB` : 'storageIDB';
      const tableName = options.table ? options.table : 'storage_store';

      try {
        _this.mDb = new _web_utils_StorageDatabaseHelper__WEBPACK_IMPORTED_MODULE_3__.StorageDatabaseHelper(dbName, tableName);
        return Promise.resolve();
      } catch (err) {
        return Promise.reject(`OpenStore: ${err.message}`);
      }
    })();
  }

  closeStore(options) {
    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new Error(`Method closeStore not implemented. ${options}`);
    })();
  }

  isStoreOpen(options) {
    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new Error(`Method isStoreOpen not implemented. ${options}`);
    })();
  }

  isStoreExists(options) {
    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new Error(`Method isStoreExists not implemented. ${options}`);
    })();
  }

  setTable(options) {
    var _this2 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const tableName = options.table;

      if (tableName == null) {
        return Promise.reject('SetTable: Must provide a table name');
      }

      if (_this2.mDb) {
        try {
          yield _this2.mDb.setTable(tableName);
          return Promise.resolve();
        } catch (err) {
          return Promise.reject(`SetTable: ${err.message}`);
        }
      } else {
        return Promise.reject('SetTable: Must open a store first');
      }
    })();
  }

  set(options) {
    var _this3 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const key = options.key;

      if (key == null || typeof key != 'string') {
        return Promise.reject('Set: Must provide key as string');
      }

      const value = options.value ? options.value : null;

      if (value == null || typeof value != 'string') {
        return Promise.reject('Set: Must provide value as string');
      }

      const data = new _web_utils_Data__WEBPACK_IMPORTED_MODULE_2__.Data();
      data.name = key;
      data.value = value;

      try {
        yield _this3.mDb.set(data);
        return Promise.resolve();
      } catch (err) {
        return Promise.reject(`Set: ${err.message}`);
      }
    })();
  }

  get(options) {
    var _this4 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const key = options.key;

      if (key == null || typeof key != 'string') {
        return Promise.reject('Get: Must provide key as string');
      }

      try {
        const data = yield _this4.mDb.get(key);

        if ((data === null || data === void 0 ? void 0 : data.value) != null) {
          return Promise.resolve({
            value: data.value
          });
        } else {
          return Promise.resolve({
            value: ''
          });
        }
      } catch (err) {
        return Promise.reject(`Get: ${err.message}`);
      }
    })();
  }

  remove(options) {
    var _this5 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const key = options.key;

      if (key == null || typeof key != 'string') {
        return Promise.reject('Remove: Must provide key as string');
      }

      try {
        yield _this5.mDb.remove(key);
        return Promise.resolve();
      } catch (err) {
        return Promise.reject(`Remove: ${err.message}`);
      }
    })();
  }

  clear() {
    var _this6 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        yield _this6.mDb.clear();
        return Promise.resolve();
      } catch (err) {
        return Promise.reject(`Clear: ${err.message}`);
      }
    })();
  }

  iskey(options) {
    var _this7 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const key = options.key;

      if (key == null || typeof key != 'string') {
        return Promise.reject('Iskey: Must provide key as string');
      }

      try {
        const ret = yield _this7.mDb.iskey(key);
        return Promise.resolve({
          result: ret
        });
      } catch (err) {
        return Promise.reject(`Iskey: ${err.message}`);
      }
    })();
  }

  keys() {
    var _this8 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const ret = yield _this8.mDb.keys();
        return Promise.resolve({
          keys: ret
        });
      } catch (err) {
        return Promise.reject(`Keys: ${err.message}`);
      }
    })();
  }

  values() {
    var _this9 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const ret = yield _this9.mDb.values();
        return Promise.resolve({
          values: ret
        });
      } catch (err) {
        return Promise.reject(`Values: ${err.message}`);
      }
    })();
  }

  filtervalues(options) {
    var _this10 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const filter = options.filter;

      if (filter == null || typeof filter != 'string') {
        return Promise.reject('Filtervalues: Must provide filter as string');
      }

      let regFilter;

      if (filter.startsWith('%')) {
        regFilter = new RegExp('^' + filter.substring(1), 'i');
      } else if (filter.endsWith('%')) {
        regFilter = new RegExp(filter.slice(0, -1) + '$', 'i');
      } else {
        regFilter = new RegExp(filter, 'i');
      }

      try {
        const ret = [];
        const results = yield _this10.mDb.keysvalues();

        for (const result of results) {
          if (result.name != null && regFilter.test(result.name)) {
            if (result.value != null) {
              ret.push(result.value);
            } else {
              return Promise.reject(`Filtervalues: result.value is null`);
            }
          }
        }

        return Promise.resolve({
          values: ret
        });
      } catch (err) {
        return Promise.reject(`Filtervalues: ${err.message}`);
      }
    })();
  }

  keysvalues() {
    var _this11 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const ret = [];
        const results = yield _this11.mDb.keysvalues();

        for (const result of results) {
          if (result.name != null && result.value != null) {
            const res = {
              key: result.name,
              value: result.value
            };
            ret.push(res);
          } else {
            return Promise.reject(`Keysvalues: result.name/value are null`);
          }
        }

        return Promise.resolve({
          keysvalues: ret
        });
      } catch (err) {
        return Promise.reject(`Keysvalues: ${err.message}`);
      }
    })();
  }

  deleteStore(options) {
    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new Error(`Method deleteStore not implemented. ${options}`);
    })();
  }

  isTable(options) {
    var _this12 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const table = options.table;

      if (table == null) {
        return Promise.reject('Must provide a Table Name');
      }

      try {
        const ret = yield _this12.mDb.isTable(table);
        return Promise.resolve({
          result: ret
        });
      } catch (err) {
        return Promise.reject(err);
      }
    })();
  }

  tables() {
    var _this13 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const ret = yield _this13.mDb.tables();
        return Promise.resolve({
          tables: ret
        });
      } catch (err) {
        return Promise.reject(err);
      }
    })();
  }

  deleteTable(options) {
    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      throw new Error(`Method deleteTable not implemented. ${options}`);
    })();
  }

  importFromJson(options) {
    var _this14 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const keys = Object.keys(options);

      if (!keys.includes('jsonstring')) {
        return Promise.reject('Must provide a json object');
      }

      let totalChanges = 0;

      if (options === null || options === void 0 ? void 0 : options.jsonstring) {
        const jsonStrObj = options.jsonstring;
        const jsonObj = JSON.parse(jsonStrObj);
        const isValid = (0,_web_utils_json_utils__WEBPACK_IMPORTED_MODULE_4__.isJsonStore)(jsonObj);

        if (!isValid) {
          return Promise.reject('Must provide a valid JsonSQLite Object');
        }

        const vJsonObj = jsonObj;
        const dbName = vJsonObj.database ? `${vJsonObj.database}IDB` : 'storageIDB';

        for (const table of vJsonObj.tables) {
          const tableName = table.name ? table.name : 'storage_store';

          try {
            _this14.mDb = new _web_utils_StorageDatabaseHelper__WEBPACK_IMPORTED_MODULE_3__.StorageDatabaseHelper(dbName, tableName); // Open the database

            const bRet = _this14.mDb.openStore(dbName, tableName);

            if (bRet) {
              // Import the JsonSQLite Object
              if (table === null || table === void 0 ? void 0 : table.values) {
                const changes = yield _this14.mDb.importJson(table.values);
                totalChanges += changes;
              }
            } else {
              return Promise.reject(`Open store: ${dbName} : table: ${tableName} failed`);
            }
          } catch (err) {
            return Promise.reject(`ImportFromJson: ${err.message}`);
          }
        }

        return Promise.resolve({
          changes: totalChanges
        });
      } else {
        return Promise.reject('Must provide a json object');
      }
    })();
  }

  isJsonValid(options) {
    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const keys = Object.keys(options);

      if (!keys.includes('jsonstring')) {
        return Promise.reject('Must provide a json object');
      }

      if (options === null || options === void 0 ? void 0 : options.jsonstring) {
        const jsonStrObj = options.jsonstring;
        const jsonObj = JSON.parse(jsonStrObj);
        const isValid = (0,_web_utils_json_utils__WEBPACK_IMPORTED_MODULE_4__.isJsonStore)(jsonObj);

        if (!isValid) {
          return Promise.reject('Stringify Json Object not Valid');
        } else {
          return Promise.resolve({
            result: true
          });
        }
      } else {
        return Promise.reject('Must provide in options a stringify Json Object');
      }
    })();
  }

  exportToJson() {
    var _this15 = this;

    return (0,_home_alumno_Descargas_proyecto2control3_proyecto2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        const ret = yield _this15.mDb.exportJson();
        return Promise.resolve({
          export: ret
        });
      } catch (err) {
        return Promise.reject(`exportToJson: ${err}`);
      }
    })();
  }

}

/***/ })

}]);
//# sourceMappingURL=node_modules_capacitor-data-storage-sqlite_dist_esm_web_js.js.map